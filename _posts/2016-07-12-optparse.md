---
layout: post
title: "Using optparse JRubyArt-1.2.0.pre"
date: 2016-07-12 13:57:00
categories: jruby_art update
keywords: optparse, JRubyArt 

---

In a development branch of JRubyArt I have refactored `runner.rb` to use optparse to parse command line arguments. This should make it easier for others to participate in JRubyArt development. In particular ther is an opening for someone to create an option to export sketches to an `app`. See new help menu below, that highlights the major changes to the user command line interface:-

{% highlight bash %}

Usage: k9 [options] [<filename.rb>]
    -v, --version                    JRubyArt Version
    -i, --install                    Installs jruby-complete and examples
    -?, --check                      Prints configuration
    -a, --app                        Export as app NOT IMPLEMENTED YET
    -w, --watch                      Watch/run the sketch
    -r, --run                        Run the sketch
    -l, --live                       As above, with pry console bound to $app
    -c, --create                     Create new outline sketch
    -h, --help                       Display this screen

{% endhighlight %}

The `--nojruby` flag is dropped in favour of the configuration option in `~/.jruby_art/config.yml` see below:-


{% highlight bash %}

---
PROCESSING_ROOT: "/usr/share/processing"
JRUBY: true
sketchbook_path: "/home/tux/sketchbook"
template: bare
MAX_WATCH: 32


{% endhighlight %}

To use jruby-complete as a default set `JRUBY: false` in `config.yml`

To install jruby-complete

{% highlight bash %}
k9 --install
{% endhighlight %}

This command also installs the examples (so if you want to keep the original 
examples, move them first). Also if `~/.jruby_art/config.yml` is not on your system it is optimistically created (ie you should probably edit it).

To check config at any time:- 

{% highlight bash %}
k9 --check
{% endhighlight %}
